(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{154:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(5),a=r.n(n),s=r(7),c=r(32);function i(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.b)("/api/categories");case 3:r=e.sent,n=r.json,t(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},166:function(e,t,r){"use strict";r.r(t),r.d(t,"LinksWrapper",(function(){return l}));var n,a=r(3),s=r(2),c=r(56),i=r(152),o=r(167),d=r(24),u=r(0),l=s.b.div(n||(n=Object(a.a)(["\ndisplay:flex;\nmargin:5px 0;\nmargin-left:15px;\nwidth:max-content;\n"])));t.default=Object(c.a)((function(){return Object(u.jsxs)(o.StyledSection,{children:[Object(u.jsx)(l,{children:Object(u.jsx)(d.a,{to:"/dashboard/myProducts",children:"Regresar "})}),Object(u.jsx)(i.r,{})]})}))},167:function(e,t,r){"use strict";r.r(t),r.d(t,"StyledSection",(function(){return V}));var n=r(3),a=r(2),s=r(56),c=r(6),i=r(5),o=r.n(i),d=r(7),u=r(154),l=r(32);function p(){return(p=Object(d.a)(o.a.mark((function e(t){var r,n,a,s,c,i,d,p,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,n=t.formData,a=t.id,s=t.setIsSuccessfullySend,c=t.setFormIsLoading,i=t.history,d=t.setAllCategories,e.prev=1,e.next=4,Object(l.d)("/api/products/".concat(a),n,r,"formData");case 4:if(p=e.sent,j=p.response,c(!1),200!==j.status){e.next=12;break}return e.next=10,Object(u.a)(d);case 10:s(!0),setTimeout((function(){return s(!1),i.push("/dashboard/myProducts")}),2e3);case 12:if(403!==j.status){e.next=14;break}return e.abrupt("return",alert("Se require rol de Administrador"));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var j=function(e){return p.apply(this,arguments)},b=r(135),f=r(10),m=r(1),g=r(8);var O,h=r(33),v=r(144),x=r(152),y=r.p+"static/media/pencil-edit-form.1d2432a8.svg",S=r(0),k=Object(a.b)(v.e)(O||(O=Object(n.a)(["\ntransform:scale(0.75);\n"])));function w(){var e=function(){var e=Object(f.a)(),t=e.token,r=e.productToEdit,n=e.setIsSuccessfullySend,a=e.setAllCategories,s=e.categories,i=Object(b.a)({mode:"onBlur"}),o=i.register,d=i.handleSubmit,u=i.formState.errors,l=Object(g.g)(),p=Object(m.useState)(!1),O=Object(c.a)(p,2),h=O[0],v=O[1],x=r._id;return{register:o,handleSubmit:d,errors:u,onSubmit:function(e,r){var s,c;v(!0),r.preventDefault();var i=new FormData,o=(null===e||void 0===e||null===(s=e.img)||void 0===s?void 0:s.files)?null===e||void 0===e||null===(c=e.img)||void 0===c?void 0:c.files[0]:void 0,d=parseInt(e.price);i.append("img",o),i.append("name",e.name),i.append("category",e.category),i.append("size",e.size),i.append("description",e.description),i.append("price",d),i.append("active",r.target.state.checked),j({token:t,formData:i,id:x,setIsSuccessfullySend:n,setFormIsLoading:v,setAllCategories:a,history:l})},formIsLoading:h,productToEdit:r,categories:s}}(),t=e.categories,r=e.register,n=e.handleSubmit,a=e.errors,s=e.onSubmit,i=e.productToEdit,o=e.formIsLoading;return Object(S.jsx)(x.n,{children:Object(S.jsxs)(x.q,{children:[Object(S.jsx)(k,{src:y,alt:"new-product"}),Object(S.jsxs)(x.p,{enctype:"multipart/form-data",onSubmit:n(s),children:[Object(S.jsxs)(x.d,{children:["Editar ",null===i||void 0===i?void 0:i.name]}),Object(S.jsx)(x.j,{register:r,errors:a,defaultValue:i.name}),Object(S.jsx)(x.l,{register:r,errors:a,defaultValue:i.size}),Object(S.jsx)(x.k,{register:r,errors:a,defaultValue:i.price}),Object(S.jsx)(x.a,{register:r,errors:a,categories:t,defaultValue:i.category}),Object(S.jsx)(x.i,{defaultValue:i.description,register:r,errors:a}),Object(S.jsx)(x.e,{register:r,errors:a,isNotRequired:!0}),Object(S.jsx)(x.m,{state:!!(null===i||void 0===i?void 0:i.active)&&"checked"}),o&&Object(S.jsx)(h.a,{small:!0}),Object(S.jsx)(x.c,{})]})]})})}var I,L=r(24),D=r(166),V=a.b.main(I||(I=Object(n.a)(["\npadding-top: 60px ;\nmargin:0;\n min-height:100vh;\nwidth:100vw;\n"])));t.default=Object(s.a)((function(){return Object(S.jsxs)(V,{children:[Object(S.jsx)(D.LinksWrapper,{children:Object(S.jsx)(L.a,{to:"/dashboard/myProducts",children:"Regresar"})}),Object(S.jsx)(w,{})]})}))}}]);
//# sourceMappingURL=3.b2477d8f.chunk.js.map