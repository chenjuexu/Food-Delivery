{"version":3,"sources":["API/usersAPI.js","API/currentUserAPI.js","API/upldateProfileAPI.js","img/user-edit-solid.svg","components/account/EditMyProfile.js","hooks/useEditProfileForm.js"],"names":["a","token","setAllUsers","GET","json","console","log","getUsers","setCurrentUser","id","localStorage","getItem","data","getCurrentUser","setFormIsLoading","setIsSuccessfullySend","setServerError","info","isAdmin","history","PUT","response","status","usersAPI","currentUserAPI","setTimeout","push","message","UploadProfileAPI","EditProfilePage","styled","section","EditProfileForm","form","OptionList","InputWrapper","div","FormIcone","img","GoToProfileLink","GoBackLink","NewPasswordCheckbox","setIsChangingPassword","value","htmlFor","onChange","e","type","name","CellphoneInput","register","errors","placeholder","defaultValue","userNumber","role","ref","required","minLength","maxLength","pattern","style","borderColor","CityAddressOptions","selected","StreetAddressInput","userStreetAddress","StreetNumberInput","userStreetNumber","withError","useStorage","currentUser","useState","serverError","isChangingPassword","formIsLoading","defaultsValues","split","lastName","street","address","slice","join","streetNumber","splice","number","city","trim","useHistory","useForm","mode","preventDefault","userName","toLowerCase","userLastName","userCityAddress","password","userPassword","newPassword","userNewPassword","upldateProfileAPI","handleSubmit","formState","onSubmit","useEditProfileForm","to","novalidate","src","userEditIcone","alt","LoaderSpinner","small"],"mappings":"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","file":"static/js/17.46a34123.chunk.js","sourcesContent":["import { GET } from \"../utils/http\";\r\nasync function getUsers({ token, setAllUsers }) {\r\n  try {\r\n    const { json } = await GET(\"/api/users\", token);\r\n\r\n    setAllUsers(json);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default getUsers;\r\n","import { GET } from \"../utils/http\";\r\nasync function getCurrentUser({ setCurrentUser, token }) {\r\n  const id = localStorage.getItem(\"userId\");\r\n\r\n  try {\r\n    const { json } = await GET(`/api/users/me/${id}`, token);\r\n\r\n    setCurrentUser(json.data);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default getCurrentUser;\r\n","import currentUserAPI from \"./currentUserAPI\";\r\nimport usersAPI from \"./usersAPI\";\r\nimport { PUT } from \"../utils/http\";\r\n\r\nasync function UploadProfileAPI({\r\n  setFormIsLoading,\r\n  setIsSuccessfullySend,\r\n  setServerError,\r\n  info,\r\n  isAdmin,\r\n  setAllUsers,\r\n  token,\r\n  setCurrentUser,\r\n  history,\r\n}) {\r\n  try {\r\n    setFormIsLoading(true);\r\n    setServerError(\"\");\r\n\r\n    const id = localStorage.getItem(\"userId\");\r\n\r\n    const { response, json } = await PUT(`/api/users/me/${id}`, info, token);\r\n\r\n    setFormIsLoading(false);\r\n\r\n    if (response.status === 200) {\r\n      isAdmin && (await usersAPI({ token, setAllUsers }));\r\n\r\n      await currentUserAPI({ token, setCurrentUser });\r\n\r\n      setIsSuccessfullySend(true);\r\n      setTimeout(() => {\r\n        setIsSuccessfullySend(false);\r\n\r\n        history.push(\"/myAccount/myProfile\");\r\n      }, 3000);\r\n\r\n      return;\r\n    }\r\n\r\n    setServerError(json.message);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default UploadProfileAPI;\r\n","export default __webpack_public_path__ + \"static/media/user-edit-solid.3b6cccdd.svg\";","import styled from 'styled-components'\r\nimport { withError } from './../withError'\r\nimport {Fragment} from 'react' \r\nimport useEditProfileForm from '../../hooks/useEditProfileForm'\r\nimport {LoaderSpinner} from './../LoaderSpinner'\r\nimport {ErrorMessage} from '../contact/ContactForm';\r\nimport {UserNameInput,UserLastNameInput,UserPasswordInput,UserNewPasswordInput,ErrorServerMessage} from '../auth/SingupForm'\r\nimport {OptionList,Option,CheckboxWrapper} from '../dashboard/CreateNewProductForm'\r\nimport {FormButtons } from '../dashboard/CreateNewProductForm'\r\nimport {TextInput } from '../contact/ContactForm';\r\nimport {GoBackLink} from '../product_details/ProductDetails'\r\nimport userEditIcone from '../../img/user-edit-solid.svg'\r\n\r\nconst EditProfilePage = styled.section`\r\n    min-height:100vh;\r\nwidth:100vw;\r\npadding: 60px 0px;\r\n\r\n`\r\nconst EditProfileForm = styled.form`\r\n\r\n  max-width:400px;\r\n  width:100%;\r\n      padding: 10px 25px 40px;\r\n    border-radius: 10px;\r\n    background: #fff;\r\nmargin: 50px auto;\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\n& > input {\r\n  border:none;\r\n  background: #f0f0f0;\r\n}\r\n&> label {\r\n  margin: 0 auto 20px\r\n}\r\n&> small {\r\nmargin: -10px auto 4px 0;\r\n}\r\n& >${OptionList} {\r\n  min-width: 100%\r\n}\r\n\r\n& > input:focus {\r\n  outline: 2px solid #ccc;\r\n    outline-style: auto;\r\n}\r\n  `\r\n\r\n  const InputWrapper = styled.div`\r\n  margin-top:-15px;\r\n  & > label{\r\nfont-size:16px;\r\n  }\r\n\r\n  `;\r\nconst FormIcone = styled.img`\r\nwidth:120px;\r\nmargin: 0 auto;\r\nmargin-bottom:20px;\r\nmargin-top:-20px;\r\n`\r\nconst GoToProfileLink = styled(GoBackLink)`\r\nmargin-left: 15px;\r\n&:before{\r\n      content: \"<-- \";\r\n    margin-right: 3px;\r\n}\r\n`\r\n\r\n\r\nfunction NewPasswordCheckbox({setIsChangingPassword,value}){\r\n\r\n\r\n   return(\r\n          <CheckboxWrapper >\r\n<label htmlFor=\"newPasswordCheckbox\">Cambiar contraseña:</label>\r\n<input\r\nonChange={(e) =>{setIsChangingPassword(!value)}}\r\nid=\"newPasswordCheckbox\" type=\"checkbox\" name=\"newPasswordCheckbox\" />\r\n          </CheckboxWrapper>\r\n    )\r\n  }\r\nfunction CellphoneInput({register,errors,placeholder,defaultValue}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userNumber && <ErrorMessage  role=\"alert\">{errors.userNumber.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userNumber\"\r\n type='text'\r\n      defaultValue={defaultValue || ''}\r\n          ref={register({\r\n              required: '*El campo es requrido',\r\n                  minLength: {\r\n            value: 9,\r\n            message: \"*Teléfono Invalido\"\r\n                                      },\r\n           maxLength: {\r\n            value: 10,\r\n            message: \"*Teléfono Invalido\"\r\n                                      },                                      \r\n                     pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\"\r\n          } \r\n          })}\r\n           style={{ borderColor: errors.userNumber && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\nfunction CityAddressOptions({register,defaultValue}){\r\n  return(\r\n   <OptionList name=\"userCityAddress\"\r\n   ref={register({\r\n           required: '*El campo es requrido',\r\n        \r\n          })}\r\n   \r\n   >\r\n<Option value=\"Córdoba\"  selected={defaultValue === 'córdoba' ? true :false}>Córdoba</Option>\r\n<Option value=\"Buenos Aires\" selected={defaultValue === 'buenos aires' ? true :false}>Buenos Aires</Option>\r\n</OptionList>\r\n  );\r\n}\r\nfunction StreetAddressInput({errors,placeholder,register,defaultValue}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userStreetAddress && <ErrorMessage  role=\"alert\">{errors.userStreetAddress.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userStreetAddress\" \r\n     defaultValue={defaultValue || ''}\r\n          ref={register({\r\n           required: '*El campo es requrido',\r\n        \r\n          })}\r\n           style={{ borderColor: errors.userStreetAddress && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\nfunction StreetNumberInput({errors,placeholder,register,defaultValue}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userStreetNumber && <ErrorMessage  role=\"alert\">{errors.userStreetNumber.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userStreetNumber\" \r\n     defaultValue={defaultValue || ''}\r\n          ref={register({\r\n    required: '*El campo es requrido',\r\n            \r\n           maxLength: {\r\n            value: 4,\r\n            message: \"*Número Invalido\"\r\n                                      },                                      \r\n                     pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\"\r\n          } \r\n          })}\r\n           style={{ borderColor: errors.userStreetNumber && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\n\r\n\r\n function EditMyProfile() {\r\n  \r\n\r\n\r\nconst { register,handleSubmit,errors,onSubmit ,serverError,formIsLoading,isChangingPassword,setIsChangingPassword,defaultsValues} = useEditProfileForm()\r\n\r\n  return(\r\n<EditProfilePage>\r\n\r\n  \r\n    <GoToProfileLink to=\"/myAccount/myProfile\" >Regresar</GoToProfileLink>\r\n  \r\n\r\n  <EditProfileForm onSubmit={handleSubmit(onSubmit)} novalidate>\r\n\r\n    <FormIcone src={userEditIcone} alt=\"edit-profile\"/>\r\n<UserNameInput  errors={errors} register={register} defaultValue={defaultsValues.name}/>\r\n   <UserLastNameInput  errors={errors} register={register} defaultValue={defaultsValues.lastName} />\r\n  \r\n     \r\n \r\n               <CellphoneInput defaultValue={defaultsValues.number} errors={errors} register={register}  placeholder=\"Tu telèfono...\" />\r\n\r\n<CityAddressOptions register={register} defaultValue={defaultsValues.city} />\r\n\r\n         <StreetAddressInput  errors={errors} register={register} placeholder=\"Calle...\" defaultValue={defaultsValues.street}/>\r\n\r\n         <StreetNumberInput  errors={errors} register={register} placeholder=\"Número de puerta...\" defaultValue={defaultsValues.streetNumber } / >\r\n <InputWrapper >\r\n   <NewPasswordCheckbox setIsChangingPassword ={setIsChangingPassword} value={isChangingPassword} />\r\n   </InputWrapper>\r\n\r\n   {isChangingPassword ? \r\n\r\n<Fragment>\r\n<UserPasswordInput  errors={errors}  register={register} name=\"userPassword\" placeholder=\"Tu contraseña...\"/>\r\n     <UserNewPasswordInput  errors={errors}   register={register} name=\"newPassword\" placeholder=\"Nueva contraseña...\"/>\r\n</Fragment>\r\n: null\r\n}\r\n     \r\n\r\n       \r\n   {formIsLoading ?  <LoaderSpinner small /> :\r\n\r\n         <ErrorServerMessage>{serverError}</ErrorServerMessage>\r\n      \r\n  }\r\n  \r\n          <FormButtons small/>\r\n  </EditProfileForm>\r\n\r\n</EditProfilePage>\r\n\r\n  );\r\n\r\n  \r\n}\r\n\r\nexport default withError(EditMyProfile)","import {useForm} from 'react-hook-form';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useState} from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport upldateProfileAPI from '../API/upldateProfileAPI'\r\n\r\n\r\n\r\nexport default function useEditProfileForm(){\r\n\r\n  const {token,setCurrentUser,setAllUsers,isAdmin,setIsSuccessfullySend,currentUser} = useStorage()\r\n\r\n  const [serverError,setServerError] = useState(\"\");\r\n    const [isChangingPassword,setIsChangingPassword] = useState(false);\r\nconst [formIsLoading,setFormIsLoading] = useState(false);\r\n\r\nconst defaultsValues = {\r\n  name:currentUser.name.split(' ')[0],\r\n  lastName:currentUser.name.split(' ')[1],\r\n  street:currentUser.address.split(',')[0].split(' ').slice(0,-1).join(' '),\r\n  streetNumber:currentUser.address.split(',')[0].split(' ').splice(-1) ,\r\n  number: currentUser.number,\r\ncity:currentUser.address.split(',')[1].trim(),\r\n}\r\n\r\n   const history = useHistory()\r\n\r\n    const { register, handleSubmit, formState: { errors } }= useForm({\r\n  mode: \"onBlur\",\r\n});\r\n\r\nasync function onSubmit(data,e) {\r\n\r\n e.preventDefault()\r\n\r\n\r\nconst name =  data.userName?.toLowerCase(),\r\n lastName =  data.userLastName?.toLowerCase(),\r\ncity = data.userCityAddress?.toLowerCase(),\r\nstreet = data.userStreetAddress?.toLowerCase();\r\n\r\nconst info ={\r\nname,\r\nlastName,\r\npassword:data.userPassword || null,\r\nnewPassword:data.userNewPassword || null,\r\nnumber:data.userNumber,\r\ncity,\r\nstreet,\r\nstreetNumber: data.userStreetNumber\r\n}\r\n await upldateProfileAPI({\r\n  setFormIsLoading,\r\nsetIsSuccessfullySend,\r\nsetServerError,\r\ninfo,\r\nisAdmin,\r\nsetAllUsers,\r\ntoken,\r\nhistory,\r\n})\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    onSubmit ,\r\n    serverError,\r\n    setCurrentUser,\r\nformIsLoading,\r\ndefaultsValues,\r\nisChangingPassword,\r\nsetIsChangingPassword\r\n}\r\n\r\n\r\n}"],"sourceRoot":""}